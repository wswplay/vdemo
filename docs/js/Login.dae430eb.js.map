{"version":3,"sources":["webpack:///./src/views/Login.vue?377f","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?4424"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","welcomeText","ref","formRef","attrs","loginData","labelText","name","required","message","type","model","value","callback","$$v","$set","expression","passWord","nativeOn","$event","indexOf","_k","keyCode","key","submitForm","apply","arguments","on","resetForm","staticRenderFns","data","passWordObj","admin","biancheng","nanzhi","xiao","redirect","computed","watch","$route","handler","route","query","immediate","methods","$refs","validate","checkPassWord","formName","resetFields","component"],"mappings":"uIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,gBAAgBL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,UAAU,CAACM,IAAIV,EAAIW,QAAQL,YAAY,sBAAsBM,MAAM,CAAC,MAAQZ,EAAIa,UAAU,cAAc,QAAQ,cAAc,GAAG,gBAAe,IAAQ,CAACT,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQZ,EAAIc,UAAUC,KAAK,KAAO,OAAO,MAAQ,CACrf,CAAEC,UAAU,EAAMC,QAAS,WAC3B,CAAEC,KAAM,SAAUD,QAAS,eACzB,CAACb,EAAG,WAAW,CAACQ,MAAM,CAAC,UAAY,GAAG,YAAc,WAAWO,MAAM,CAACC,MAAOpB,EAAIa,UAAc,KAAEQ,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIa,UAAW,OAAQS,IAAME,WAAW,qBAAqB,GAAGpB,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQZ,EAAIc,UAAUW,SAAS,KAAO,WAAW,MAAQ,CACxR,CAAET,UAAU,EAAMC,QAAS,UAC3B,CAAEC,KAAM,SAAUD,QAAS,eACzB,CAACb,EAAG,WAAW,CAACQ,MAAM,CAAC,KAAO,WAAW,UAAY,GAAG,YAAc,WAAWc,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOT,KAAKU,QAAQ,QAAQ5B,EAAI6B,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOI,IAAI,SAAkB,KAAc/B,EAAIgC,WAAWC,MAAM,KAAMC,aAAaf,MAAM,CAACC,MAAOpB,EAAIa,UAAkB,SAAEQ,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIa,UAAW,WAAYS,IAAME,WAAW,yBAAyB,GAAGpB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWuB,GAAG,CAAC,MAAQnC,EAAIgC,aAAa,CAAChC,EAAIO,GAAG,QAAQH,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,SAASuB,GAAG,CAAC,MAAQ,SAASR,GAAQ,OAAO3B,EAAIoC,UAAUpC,EAAIW,YAAY,CAACX,EAAIO,GAAG,SAAS,IAAI,IAAI,QAC5pB8B,EAAkB,G,oCC6CtB,GACEtB,KAAM,QACNuB,KAFF,WAGI,MAAO,CACL7B,YAAa,qBACb8B,YAAa,CACXC,MAAO,QACPC,UAAW,MACXC,OAAQ,MACRC,KAAM,OAERhC,QAAS,eACTE,UAAW,CACTE,KAAM,GACNU,SAAU,IAEZX,UAAW,CACTC,KAAM,MACNU,SAAU,MAEZmB,SAAU,OAGdC,SAAF,kBACA,gBACA,aAGEC,MAAO,CACLC,OAAQ,CACNC,QAAS,SAAf,GACQ/C,KAAK2C,SAAWK,EAAMC,OAASD,EAAMC,MAAMN,UAE7CO,WAAW,IAGfC,QAAS,OAAX,OAAW,CAAX,kBACA,gBACA,WACA,WACA,iBAJA,IAOIpB,WAPJ,WAOA,WACM/B,KAAKoD,MAAMpD,KAAKU,SAAS2C,UAAS,SAAxC,GACA,EACA,mBACY,EAAZ,0CACY,EAAZ,4DACY,EAAZ,wCACY,EAAZ,yBACY,EAAZ,+BAEY,EAAZ,gCAGU,EAAV,8BAIIC,cAxBJ,WAyBM,IAAN,uCACM,OAAN,yBAIInB,UA9BJ,SA8BA,GACMnC,KAAKoD,MAAMG,GAAUC,kBCvHoT,I,wBCQ3UC,EAAY,eACd,EACA3D,EACAsC,GACA,EACA,KACA,WACA,MAIa,aAAAqB,E,2CCnBf","file":"js/Login.dae430eb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Login centerFlex\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"welcome\"},[_vm._v(_vm._s(_vm.welcomeText))]),_c('div',{staticClass:\"login-form-box\"},[_c('el-form',{ref:_vm.formRef,staticClass:\"login-form-material\",attrs:{\"model\":_vm.loginData,\"label-width\":\"100px\",\"status-icon\":\"\",\"show-message\":false}},[_c('el-form-item',{attrs:{\"label\":_vm.labelText.name,\"prop\":\"name\",\"rules\":[\n            { required: true, message: '用户名不能为空'},\n            { type: 'string', message: '年龄必须为字符串'}\n          ]}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"admin可用\"},model:{value:(_vm.loginData.name),callback:function ($$v) {_vm.$set(_vm.loginData, \"name\", $$v)},expression:\"loginData.name\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.labelText.passWord,\"prop\":\"passWord\",\"rules\":[\n            { required: true, message: '密码不能为空'},\n            { type: 'string', message: '密码必须为字符串'}\n          ]}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"placeholder\":\"admin可用\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm.apply(null, arguments)}},model:{value:(_vm.loginData.passWord),callback:function ($$v) {_vm.$set(_vm.loginData, \"passWord\", $$v)},expression:\"loginData.passWord\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.resetForm(_vm.formRef)}}},[_vm._v(\"重置\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Login centerFlex\">\n    <div class=\"content\">\n      <div class=\"welcome\">{{welcomeText}}</div>\n      <div class=\"login-form-box\">\n        <el-form\n          :model=\"loginData\"\n          :ref=\"formRef\"\n          label-width=\"100px\"\n          class=\"login-form-material\"\n          status-icon\n          :show-message=\"false\"\n        >\n          <el-form-item\n            :label=\"labelText.name\"\n            prop=\"name\"\n            :rules=\"[\n              { required: true, message: '用户名不能为空'},\n              { type: 'string', message: '年龄必须为字符串'}\n            ]\"\n          >\n            <el-input v-model=\"loginData.name\" clearable placeholder=\"admin可用\"></el-input>\n          </el-form-item>\n          <el-form-item\n            :label=\"labelText.passWord\"\n            prop=\"passWord\"\n            :rules=\"[\n              { required: true, message: '密码不能为空'},\n              { type: 'string', message: '密码必须为字符串'}\n            ]\"\n          >\n            <el-input\n              type=\"password\"\n              v-model=\"loginData.passWord\"\n              clearable\n              @keyup.enter.native=\"submitForm\"\n              placeholder=\"admin可用\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button size=\"small\" type=\"primary\" @click=\"submitForm\">提交</el-button>\n            <el-button size=\"small\" @click=\"resetForm(formRef)\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      welcomeText: '【JavaScript边城】欢迎你！',\n      passWordObj: {\n        admin: 'admin',\n        biancheng: '000',\n        nanzhi: '123',\n        xiao: '666'\n      },\n      formRef: 'loginFormRef',\n      loginData: {\n        name: '',\n        passWord: ''\n      },\n      labelText: {\n        name: '用户名',\n        passWord: '密码'\n      },\n      redirect: null,\n    }\n  },\n  computed : {\n    ...mapState([\n      'roleObj',\n    ])\n  },\n  watch: {\n    $route: {\n      handler: function(route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'setRoles',\n      'setToken',\n      'setUserInfo'\n    ]),\n    // 提交表单\n    submitForm() {\n      this.$refs[this.formRef].validate((valid) => {\n        if(valid) {\n          if(this.checkPassWord()) {\n            this.$message({message: '登录成功', type: 'success'});\n            this.setToken(`bian_cheng_${this.roleObj[this.loginData.name]}`);\n            this.setRoles([this.roleObj[this.loginData.name]]);\n            this.setUserInfo(this.loginData);\n            this.$router.push(this.redirect || '/');\n          } else {\n            this.$message.error('用户名或者密码错误，请重试');\n          }\n        } else {\n          this.$message.error('请完善相关字段');\n        }\n      })\n    },\n    checkPassWord() {\n      const { name, passWord } = this.loginData;\n      if(passWord === this.passWordObj[name]) return true;\n      return false;\n    },\n    // 重置表单\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.Login {\n  width: 100%;\n  height: 100vh;\n  .content {\n    width: 50%;\n    .welcome {\n      font-size: @fontSize18;\n    }\n    .login-form-box {\n      padding-top: 36px;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1950b392&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=1950b392&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1950b392\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=1950b392&lang=less&scoped=true&\""],"sourceRoot":""}